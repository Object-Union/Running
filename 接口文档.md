# 接口文档

## User 相关

### /User/Login

登录

| 参数名   | 描述   | 类型   |
| -------- | ------ | ------ |
| username | 用户名 | String |
| password | 密码   | String |



### /User/Register

注册

| 参数名   | 描述    | 类型    |
| -------- | ------- | ------- |
| username | 用户名  | String  |
| nickname | 昵称    | String  |
| password | 密码    | String  |
| gender   | 性别    | Boolean |
| avatar   | 头像URL | String  |



### /User/UploadAvatar

上传头像

| 参数名 | 描述           | 类型                                  |
| ------ | -------------- | ------------------------------------- |
| userId | 用户ID         | Integer                               |
| avatar | 上传的用户头像 | @RequestParam("avatar") MultipartFile |



### /User/SearchUser

根据nickName搜索

| 参数名   | 描述 | 类型   |
| -------- | ---- | ------ |
| nickName | 昵称 | String |



### /User/Record

查看跑步记录

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| userId | 用户ID | Integer |



### /User/GetUser

根据ID获取用户信息

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| usrId  | 用户ID | Integer |



## Moment 相关

### /Moment/Publish

发送动态

| 参数名   | 描述     | 类型                 |
| -------- | -------- | -------------------- |
| userId   | 用户ID   | Integer              |
| title    | 动态标题 | String               |
| content  | 动态内容 | String               |
| pictures | 动态图片 | List<MultipartFile\> |



### /Moment/Like

点赞动态

| 参数名   | 描述   | 类型    |
| -------- | ------ | ------- |
| momentId | 动态ID | Integer |
| userId   | 用户ID | Integer |



### /Moment/AddComment

评价动态

| 参数名   | 描述     | 类型    |
| -------- | -------- | ------- |
| momentId | 动态ID   | Integer |
| userId   | 用户ID   | Integer |
| comment  | 评论内容 | String  |



### /Moment/GetComments

获取动态的评论

| 参数名   | 描述   | 类型    |
| -------- | ------ | ------- |
| momentId | 动态ID | Integer |
| pageNo   | 页数   | Integer |



### /Moment/LikeList

获取用户的动态点赞列表

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| userId | 用户ID | Integer |



### /Moment/GetMoments

| 参数名 | 描述 | 类型    |
| ------ | ---- | ------- |
| pageNo | 页数 | Integer |



### /Moment/GetUserMoments

获取某个用户的动态

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| userId | 用户ID | Integer |
| pageNo | 页数   | Integer |



## Friend 相关

### /Friend/SubscribeList

获取订阅列表

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| userId | 用户ID | Integer |



### /Friend/Subscribe

添加好友/订阅

| 参数名   | 描述       | 类型    |
| -------- | ---------- | ------- |
| userId   | 用户ID     | Integer |
| friendId | 欲加好友ID | Integer |



### /Friend/UnSubscribe

删除好友

| 参数名   | 描述       | 类型    |
| -------- | ---------- | ------- |
| userId   | 用户ID     | Integer |
| friendId | 欲删好友ID | Integer |



## Run 相关

### /Run/SaveRecord

保存跑步记录

| 参数名   | 描述            | 类型     |
| -------- | --------------- | -------- |
| userId   | 用户ID          | Integer  |
| duration | 持续时间（min） | Integer  |
| mileage  | 里程（km）      | Float    |
| date     | 跑步日期        | DateTime |
| calorie  | 消耗卡路里      | Float    |
| speed    | 配速            | Float    |
| route    | 路线信息        | String   |
| runType  | 跑步类型        | String   |



### /Run/DriftRoute

获取所有漂移跑路径



### /Run/SelectDriftRoute

获取特定的漂移路径数据

| 参数名  | 描述   | 类型    |
| ------- | ------ | ------- |
| routeId | 路径ID | Integer |



### /Run/StartRoomRun

开启房间跑

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| userId | 用户ID | Integer |



### /Run/JoinRoom

加入房间跑

| 参数名  | 描述    | 类型    |
| ------- | ------- | ------- |
| userId  | 用户ID  | Integer |
| roomKey | 房间Key | String  |



### /Run/LeftRoom

离开房间跑

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| userId | 用户ID | Integer |
| roomId | 房间ID | Integer |



### /Run/GetRoomUsers

获取房间中用户的信息

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| roomId | 房间ID | Integer |



### /Run/Ranking

获取一个房间里用户的排行榜

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| roomId | 房间ID | Integer |



## Chat 相关

### /Chat/SendMessage

发送聊天数据

| 参数名      | 描述     | 类型    |
| ----------- | -------- | ------- |
| senderId    | 发送者ID | Integer |
| recipientId | 接受者ID | Integer |
| content     | 消息内容 | String  |



### /Chat/GetHistory

获取聊天数据

| 参数名      | 描述     | 类型    |
| ----------- | -------- | ------- |
| senderId    | 发送者ID | Integer |
| recipientId | 接受者ID | Integer |



## Medal 相关

### /Medal/Info

获取默认奖章信息



### /Medal/Personal

获取用户得到的奖章

| 参数名 | 描述   | 类型    |
| ------ | ------ | ------- |
| userId | 用户ID | Integer |



### /Medal/GetMedal

得到奖章

| 参数名  | 描述   | 类型    |
| ------- | ------ | ------- |
| madalId | 奖章ID | Integer |
| userId  | 用户ID | Integer |

